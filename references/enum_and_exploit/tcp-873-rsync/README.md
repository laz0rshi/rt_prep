# Rsync enumeration and exploitation
* [Initial enumeration](#initial-enumeration)
* [Connecting to and enumerating a share](#connecting-to-and-enumerating-a-share)
* [Uploading files or folders](#uploading-files-or-folders)
* [Post enumerating configuration files](#post-enumerating-configuration-files)

## Initial enumeration
```bash
nmap -vv -p 873 -sT --script=+rsync* <ip>
```

## Connecting to and enumerating a share
- List share files:
```bash
rsync -av --list-only rsync://<ip>/<share> # Anonymous
rsync -av --list-only rsync://<username>@<ip>/<share>
```
- Download all files:
```bash
rsync -av rsync://<ip>/<share> ./
rsync -av rsync://<username>@<ip>/<share> ./
```

## Uploading files or folders
```bash
rsync -av <filename> rsync://<ip>/<share>/<filename>
rsync -av <filename> rsync://<username>@<ip>/<share>/<filename>
```

## Post enumerating configuration files
```bash
find / \( -name rsyncd.conf -o -name rsyncd.secrets \) 2>/dev/null
```
